---
import { register } from '../../lib/auth';

let error = '';
const handleSubmit = (e) => {
  e.preventDefault();
  const email = e.target.email.value;
  const password = e.target.password.value;

  if (email && password) {
    register(email, password);
    window.location.href = '/';
  } else {
    error = 'Completa todos los campos';
  }
};
---

<form on:submit={handleSubmit}>
  <input type="email" name="email" required>
  <input type="password" name="password" required>
  <button type="submit">Registrarse</button>
</form>
{error && <p class="error">{error}</p>}